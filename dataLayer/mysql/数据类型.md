# 数据类型
[数据类型官网](https://dev.mysql.com/doc/refman/8.0/en/data-types.html)

MySQL supports SQL data types in several categories: numeric types, date and time types, string (character and byte) types, spatial types, and the JSON data type
MySQL 支持多种数据类型，这些类型可大致分为几个类别：数值类型、日期和时间类型、字符串（字符）类型、空间数据类型以及JSON类型。

### 1. 数值类型
- **整数类型**：包括 `TINYINT`, `SMALLINT`, `MEDIUMINT`, `INT`, `BIGINT`。它们可以是有符号的或无符号的。
- **浮点数和小数**：`FLOAT`, `DOUBLE`, 和 `DECIMAL`。`FLOAT` 和 `DOUBLE` 是浮点数类型，用于存储近似数值数据；`DECIMAL` 用于存储精确数值，适合存储财务数据。

### 2. 日期和时间类型
- **`DATE`**：仅存储日期。格式为 `YYYY-MM-DD`。
- **`TIME`**：仅存储时间。格式为 `HH:MM:SS`。
- **`DATETIME`**：存储日期和时间。格式为 `YYYY-MM-DD HH:MM:SS`。
- **`TIMESTAMP`**：与 `DATETIME` 类似，但具有时区支持，且范围较小。
- **`YEAR`**：存储年份。

### 3. 字符串类型
- **文本类型**：`CHAR`, `VARCHAR`, `TEXT`, `MEDIUMTEXT`, `LONGTEXT`。`CHAR` 和 `VARCHAR` 适用于较短的字符串，`TEXT` 类型系列适合存储长文本。
- **二进制类型**：`BINARY`, `VARBINARY`, `BLOB`, `MEDIUMBLOB`, `LONGBLOB`。这些类型用于存储字节流，如图片、音频等。

### 4. 空间数据类型
- 用于存储地理空间数据，如 `GEOMETRY`, `POINT`, `LINESTRING`, `POLYGON` 等。这些类型支持通过空间功能查询和操作地理数据。

### 5. JSON 类型
- **`JSON`**：专门用于存储 JSON（JavaScript Object Notation）数据。MySQL 提供了丰富的 JSON 函数，用于在 SQL 层面操作 JSON 数据。

### 其他数据类型
- **枚举类型**（`ENUM`）：允许从预定义列表中选择值。
- **集合类型**（`SET`）：允许从预定义列表中选择多个值。

这些数据类型的选择应基于数据的性质、所需的存储空间、预期的查询性能以及是否需要特殊功能（如空间数据的地理查询）。
正确的数据类型不仅可以优化存储效率，还可以提高查询性能并确保数据的正确性。在设计数据库时，选择合适的数据类型是非常重要的步骤。

## Q&S
Q: 为什么 MySQL 不建议使用 NULL 作为列默认值
S: 在设计数据库时，经常有建议尽量避免在MySQL列中使用`NULL`作为默认值。这个建议的主要原因是`NULL`在数据库中的处理和语义上带来了几个挑战：

1. **语义模糊性**
`NULL`的值代表“未知”或“不存在”，这在逻辑上可能会导致解释上的模糊。例如，如果一个列是可空的，那么`NULL`值可能表示数据未被记录、不适用或未知，这样会使数据的解释复杂化。

2. **查询复杂性**
使用`NULL`会使SQL查询变得更加复杂。SQL中有很多操作默认是不包括`NULL`值的，例如，在聚合函数中`NULL`值通常是被忽略的。
3. 此外，需要特别注意使用`IS NULL`或`IS NOT NULL`来明确检查`NULL`值，**因为常规的比较操作符（如`=`, `!=`, `<`, `>`等）不会返回`NULL`为真的结果**。

### 3. **索引和性能影响**
在某些情况下，`NULL`可以影响索引的效果和查询性能。虽然现代数据库管理系统（如MySQL）已经改进了对`NULL`值的索引技术，但在有`NULL`值的列上创建索引时，仍然可能会遇到性能问题。
这是因为`NULL`条目需要单独处理，可能会导致索引效率不是最优的。

### 4. **存储额外信息**
在MySQL中，即使是`NULL`值也需要存储空间。每个`NULL`列都需要额外的空间来标记其`NULL`状态，这增加了存储开销。

### 5. **设计规范和完整性**
如果数据库设计允许大量使用`NULL`，可能反映出数据库模式设计不够完善。一个良好设计的数据库应当尽可能地反映实体之间清晰的关系和属性的明确值。过度依赖`NULL`可能意味着某些业务规则没有被正确地实现在模式设计中。

### 6. **数据完整性**
使用非`NULL`默认值可以帮助保持数据的完整性。非`NULL`字段强制数据在插入时必须有明确的值，这可以防止数据出现无意的遗漏，确保数据集的质量和可用性。

### 总结
推荐避免使用`NULL`作为默认值，主要是为了确保数据的清晰性和一致性，减少查询时的复杂性，优化性能，并提高数据的整体质量。当然，在某些情况下使用`NULL`是合理的，尤其是当它确实表示值的缺失或不适用时。
在这些情况下，应该明确文档说明这些字段的用途和预期的数据处理方式。